# Базовый порядок работы с Git (GitHub)

### Открываем терминал в Linux (Windows или MacOS) и работаем по следующему примерному алгоритму, а также пользуемся справочной инфомацией из пунктов ниже:

1. Проверка установки Git на компьютере: __git version__

2. Установка Git через терминал в Linux Mint: __apt-get install git__

3. Указание имени пользователя в настройках Git. Флаг —global позволяет сделать это, находясь в любой директории: __git config --global user.name "User Name"__

4. Указание e-mail в настройках Git. Флаг —global позволяет сделать это, находясь в любой директории: __git config --global user.email username@yandex.ru__

5. Проверка содержимого глобальных настроек Git, хранящихся в файле .gitconfig в домашней директории: __cat ~/.gitconfig__ или __git config —list__

6. Создание репозитория Git в папке проекта (предварительно необходимо перейти в папку проекта, используя команду cd в терминале): __cd <папка с проектом>, git -init__

7. Изменение имени ветки «Master» на «Main»: __git branch -m «main»__

8. Если под контроль версий неправильно выбрана папка, то снять контроль версий с папки можно удалением скрытой подпапки .git: __cd <папка с репозиторием>__, __rm -rf .git__

9. Проверка текущего состояния репозитория: __git status__

10. Добавление конкретного файла или всех файлов папки в репозиторий git: __git add <файл.расширение>__, __git add -all__ или __git add .__

11. Выполнение коммита (флаг -m добавляет сообщение к коммиту): __git commit -m «сообщение об изменениях»__

12. Просмотр истории коммитов: __git log__

13. После создания удаленного репозитория на GitHub, для связки его с локальным репозиторием необходимо проверить наличие SSH ключей (публичного и приватного). Они обычно находятся в корневой папке в скрытой директории .ssh/: __cd ~, ls -la .ssh/__

14. Генерация SSH-ключа. Алгоритм 1. Если при вводе команды происходит ошибка, то нужно воспользоваться другми алгоритмом: __ssh-keygen -t ed25519 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"__ 

15. Генерация SSH-ключа. Алгоритм 2: __ssh-keygen -t rsa -b 4096 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"__

16. Проверка наличия новых созданных SSH ключей: __ls -a ~/.ssh__

17. Привязывание SSH-ключа с GitHub аккаунта: __cat ~/.ssh/id_rsa.pub__ или __cat ~/.ssh/id_ed25519.pub__ и копируем SSH-ключ в буфер обмена

18. Переход на GitHub. В аккаунте в «Settings», в пункте «SSH and GPG keys» выбрать «New SSH Keys». В поле «Title» написать «Personal key». В поле «Key» скопируйте ваш ключ из буфера обмена.

19. После чего нажмите «Add SSH key»

20. Проверка правильности SSH ключа: __ssh -T git@github.com__

21. Для привязки удаленного репозитория к локальному необходимо перейти на страницу удаленного репозитория, выбрать тип «SSH» и скопировать URL.

22. Привязка удаленного репозитория к локальному (предварительно необходимо перейти в папку с проектом): __cd <папка с проектом>__ 

23. Откройте консоль, перейдите в каталог локального репозитория и введите команду «git remote add». Команде необходимо передать два параметра: имя удалённого репозитория и его URL. В качестве имени используйте слово «origin», а URL вы скопировали со страницы удалённого репозитория: __git remote add origin git@github.com:%ИМЯ_АККАУНТА%/first-project.git__

24. Убедиться, что локальный и удаленный репозитории связаны можно с помощью команды: __git remote — v__

25. Синхронизация локального репозитория с удаленным. Первый раз это делается с флагом -u и параметрами origin (имя удалённого репозитория) и main или master (название текущей ветки). Флаг -u свяжет локальную ветку с одноимённой удалённой: __git push -u origin main или git push -u origin master__

26. Сокращенный лог: __git log --online__

27. __Хеш__ — идентификатор коммита.

    Его можно увидеть при вызове команды __git log__

    Git хеширует (преобразует) информацию о коммите с помощью алгоритма SHA-1 (от англ. Secure Hash Algorithm — «безопасный алгоритм хеширования») и получает для каждого коммита свой уникальный хеш — результат хеширования.

    Обычно хеш — это короткая (40 символов в случае SHA-1) строка, которая состоит из цифр 0—9 и латинских букв A—F (неважно, заглавных или строчных). Она обладает следующими важными свойствами:
    - если хеш получить дважды для одного и того же набора входных данных, то результат будет гарантированно одинаковый;
    - если хоть что-то в исходных данных поменяется (хотя бы один символ), то хеш тоже изменится (причём сильно).

    Git хранит таблицу соответствий хеш → информация о коммите. Если вы знаете хеш, вы можете узнать всё остальное: автора и дату коммита и содержимое закоммиченных файлов. Можно сказать, что хеш — основной идентификатор коммита.

    Все хеши и таблицу хеш → информация о коммите Git сохраняет в служебные файлы. Они находятся в скрытой папке .git в репозитории проекта.

28. __Состав лога__

    При вызове команды __git log__ мы увидим список коммитов, каждый из которых содержит следующую информацию:
    - строка из цифр и латинских букв после слова commit — это хеш коммита;
    - Author — имя автора и его электронная почта;
    - Date — дата и время создания коммита;
    - в конце находится сообщение коммита.

    В случае когда коммитов очень большое количество для удобства поиска можно воспользовать командой __git log —online__

    Сокращённый хеш (то есть первые несколько символов полного) можно использовать точно так же, как и полный. Для этого команда git log --oneline автоматически подбирает такую длину сокращённых хешей, чтобы они были уникальными в пределах репозитория и Git всегда мог понять, о каком коммите идёт речь.

29. __Что такое HEAD внутри логов__

    При вызове команды __git log__ можно увидеть надпись (HEAD -> master) после хеша одного из коммитов.

    Файл __HEAD__ (англ. «голова», «головной») — один из служебных файлов папки .git. Он указывает на коммит, который сделан последним (то есть на самый новый) и содержит хеш этого коммита.

30. __Статусы файлов Git__

    К основным статусам относятся untracked/tracked, staged и modified:

    - __untracked__ (англ. «неотслеживаемый»).
    Мы говорили, что новые файлы в Git-репозитории помечаются как untracked, то есть неотслеживаемые. Git «видит», что такой файл существует, но не следит за изменениями в нём. У untracked-файла нет предыдущих версий, зафиксированных в коммитах или через команду __git add__.

    - __staged__ (англ. «подготовленный»).
    После выполнения команды __git add__ файл попадает в __staging area__ (от англ. stage — «сцена», «этап [процесса]» и area — «область»), то есть в список файлов, которые войдут в коммит. В этот момент файл находится в состоянии staged.

    - __tracked__ (англ. «отслеживаемый»).
    Состояние __tracked__ — это противоположность __untracked__. Оно довольно широкое по смыслу: в него попадают файлы, которые уже были зафиксированы с помощью __git commit__, а также файлы, которые были добавлены в __staging area__ командой __git add__. То есть все файлы, в которых Git так или иначе отслеживает изменения.

    - __modified__ (англ. «изменённый»).
    - Состояние __modified__ означает, что Git сравнил содержимое файла с последней сохранённой версией и нашёл отличия. Например, файл был закоммичен и после этого изменён.

30.1 __Еще раз про «staged» и «modified»__

    Команда __git add__ добавляет в __staging area__ только текущее содержимое файла. Если вы, например, сделаете __git add file.txt__, а затем измените __file.txt__, то новое содержимое файла не будет находиться в __staging area__.
Git сообщит об этом с помощью статуса __modified__: файл изменён относительно той версии, которая уже в __staging area__. Чтобы добавить в __staging area__ последнюю версию, нужно выполнить __git add file.txt__ ещё раз.

31. __Типичный жизненный цикл файла в Git__

    1. Файл только что создали. Git ещё не отслеживает содержимое этого файла. Состояние: untracked.
    2. Файл добавили в staging area с помощью git add. Состояние: staged (+ tracked).
        - Возможно, изменили файл ещё раз. Состояния: staged, modified (+ tracked).
          Обратите внимание: staged и modified у одного файла, но у разных его версий.
        - Ещё раз выполнили git add. Состояние: staged (+ tracked).
    3. Сделали коммит с помощью git commit. Состояние: tracked.
    4. Изменили файл. Состояние: modified (+ tracked).
    5. Снова добавили в staging area с помощью git add. Состояния: staged (+ tracked).
    6. Сделали коммит. Состояния: tracked.
    7. Повторили пункты 4−6 много-много раз
